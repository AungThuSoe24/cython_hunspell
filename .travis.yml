language: python

matrix:
  include:
    - os: linux
      python: 2.7
    - os: osx
      python: 2.7
      env: PYENV_VERSION=2.7
      sudo: required
      language: generic
    - os: linux
      python: 3.3
    - os: osx
      python: 3.3
      env: PYENV_VERSION=3.3
      sudo: required
      language: generic
    - os: linux
      python: 3.4
    - os: osx
      python: 3.4
      env: PYENV_VERSION=3.4
      sudo: required
      language: generic
    - os: linux
      python: 3.5
    - os: osx
      python: 3.5
      env: PYENV_VERSION=3.5
      sudo: required
      language: generic
    - os: linux
      python: 3.6
    - os: osx
      python: 3.6
      env: PYENV_VERSION=3.6
      sudo: required
      language: generic
    - os: linux
      language: python
      python: 3.7
      dist: xenial
      sudo: true
    - os: osx
      python: 3.7
      env: PYENV_VERSION=3.7
      sudo: required
      language: generic

before_install:
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update && brew upgrade pyenv; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then pyenv init && virtualenv venv -p python; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then source venv/bin/activate; fi
install: "python setup.py install"
script: "python setup.py test"

notifications:
  email:
    recipients:
      - mseal007@gmail.com
    on_success: change
    on_failure: always
